<section fxLayout="column" class="users">
  <div fxFlex="40px">
    <div fxLayout="row" *ngIf="!searchVisible">
      <div fxFlex="50%">
        <h2>Users</h2>
      </div>
      <div fxFlex="auto" fxFlexAlign="right">
        <button mat-button matSuffix mat-icon-button>
          <span>
            <mat-icon aria-hidden="false" aria-label="Filter">
              filter_list
            </mat-icon>
          </span>
        </button>
      </div>
      <div fxFlex="auto" fxFlexAlign="right" >
        <button
          mat-button
          matSuffix
          mat-icon-button
          aria-label="Search"
          (click)="toggleSearch()"
        >
          <mat-icon aria-hidden="false" aria-label="Search">search</mat-icon>
        </button>
      </div>
    </div>
    <div *ngIf="searchVisible" fxLayout="row">
      <div fxFlex="auto">
        <button
          mat-button
          matSuffix
          mat-icon-button
          aria-label="Back"
          (click)="toggleSearch()"
        >
          <mat-icon aria-hidden="false" aria-label="BAck icon"
            >arrow_back</mat-icon
          >
        </button>
      </div>
      <div fxFlex="auto" class="users__search">
        <mat-form-field class="search-field">            
          <input matInput type="text" [(ngModel)]="searchTerm" placeholder="Clearable input" />
          <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="searchTerm=''">
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div fxFlex="auto">
   
    <mat-list *ngIf="users">
      <app-users-item *ngFor="let user of users | userSearch: searchTerm" [user]="user"></app-users-item>
    </mat-list>
  </div>
</section>
